name: coss-server
services:
  - type: web
    name: coss-api
    env: node
    buildCommand: npm install
    startCommand: node server.js
    port: 3000
    envVars:
      - key: NODE_ENV
        value: production
      - key: DB_HOST
        sync: true
      - key: DB_USER
        sync: true
      - key: DB_PASSWORD
        sync: true
      - key: DB_NAME
        sync: true
      - key: DB_PORT
        value: "3306"
      - key: PORT
        value: "3000"
```

## 3. 환경변수 구성 (.env 파일)

**로컬 개발용 .env 파일:**
```
NODE_ENV=development
PORT=3000

# MariaDB 연결 정보
DB_HOST=your-mariadb-host.com
DB_USER=your-username
DB_PASSWORD=your-password
DB_NAME=coss_db
DB_PORT=3306
```

## 4. Cloudtype 배포 단계별 가이드

### 4-1. Cloudtype 환경변수 설정

Cloudtype 대시보드에서:

1. **프로젝트 선택** → **환경변수** 탭
2. 다음 환경변수 추가:
```
DB_HOST = (MariaDB 호스트 주소)
DB_USER = (MariaDB 사용자명)
DB_PASSWORD = (MariaDB 비밀번호)
DB_NAME = coss_db
DB_PORT = 3306
NODE_ENV = production
PORT = 3000
